"use strict";function e(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var t=require("react"),n=e(t),r=require("styled-components"),a=e(require("prop-types")),o=e(require("react-tagsinput")),i=e(require("markdown-to-jsx"));function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var s=t.createContext(null);function d(e,t){switch(t.type){case"update":var n={};return n[t.id]=t.value,l({},e,{},n);case"registerField":var r=l({},e);return r[t.id]||(r[t.id]=t.value),r.defaultValues[t.id]||(r.defaultValues[t.id]=t.value||""),r;case"resetForm":return l({defaultValues:e.defaultValues},e.defaultValues);default:throw new Error}}function u(e){var r=e.children,a=e.defaultValues,o=t.useReducer(d,l({defaultValues:a},a)),i=o[1];return n.createElement(s.Provider,{value:{formState:o[0],update:function(e){return i({type:"update",id:e.id,value:e.value})},registerField:function(e){return i({type:"registerField",id:e.id,value:e.value})},resetForm:function(){return i({type:"resetForm"})}}},r)}function c(){var e,t,n=(e=["\n  :root {\n    --fresh-tooltip-color: #000;\n    --fresh-tooltip-background: #eee;\n  }\n\n  .fresh-switch {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n    margin: 0.5em 0px;\n  }\n\n  .fresh-switch input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  .fresh-slider {\n    position: absolute;\n    cursor: pointer;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background-color: #ccc;\n    transition: 0.4s;\n    border-radius: 34px;\n  }\n\n  .fresh-slider:before {\n    position: absolute;\n    content: '';\n    height: 26px;\n    width: 26px;\n    left: 4px;\n    bottom: 4px;\n    background-color: white;\n    transition: 0.4s;\n    border-radius: 50%;\n  }\n\n  input:checked + .fresh-slider {\n    background-color: #2196f3;\n  }\n\n  input:focus + .fresh-slider {\n    box-shadow: 0 0 1px #2196f3;\n  }\n\n  input:checked + .fresh-slider:before {\n    transform: translateX(26px);\n  }\n\n  input,\n  select,\n  textarea,\n  .fresh-input {\n    background-color: transparent;\n    box-sizing: border-box;\n    box-shadow: none;\n    max-width: 100%;\n    border-width: 1px;\n    border-style: solid;\n    border-image: initial;\n    border-color: inherit;\n    border-radius: 3px;\n    font: inherit;\n    margin: 0.5em 0px;\n    padding: 0.75em;\n    transition: border-color 0.2s ease 0s;\n  }\n\n  textarea,\n  .fresh-input-textarea,\n  .fresh-input-markdown {\n    min-height: 6rem;\n  }\n\n  .fresh-markdown-wrapper {\n    .fresh-input-markdown {\n      border-color: #eee; \n    }\n    .fresh-input-textarea,\n    .fresh-input-markdown {\n      width: 100%;\n    }\n    @media (min-width: 800px) {\n      display: flex;\n      .fresh-input-textarea {\n        width: 50%;  \n      }\n      \n      .fresh-input-markdown {\n        width: calc(50% - 0.5em);  \n        margin-left: 0.5em;\n      }\n    }\n  }\n  \n  /* Label and Tooltip */\n  .fresh-focused {\n    border: 1px solid #eee;\n    max-height: 200px;\n    overflow-y: scroll;\n    position: absolute;\n    background: white;\n    width: 100%;\n    margin-top: -0.5em;\n    border-top: 0;\n  }\n\n  .fresh-label {\n    position: relative;\n  }\n\n  .fresh-title {\n    display: flex; \n    align-items: center;\n    .fresh-tooltip {\n      position: relative;\n      color: var(--fresh-tooltip-color);\n      &:after {\n        position: absolute;\n        left: 150%;\n        min-width: 100px;\n        content: attr(data-tooltip);\n        opacity: 0;\n        transition: all .3s ease-in-out .35s;\n        visibility: hidden;\n        z-index: 2;\n        position: absolute;\n        background-color: var(--fresh-tooltip-background);\n        padding: 0.75em;\n        border-radius: 3px;\n        font-size: 0.8em;\n      }\n      &:hover:after {\n        opacity: 1;\n        left: 130%;\n        visibility: visible;\n      }\n      .fresh-tooltip-icon {\n        position: relative;\n        height: 0.8em;\n        width: 0.8em;\n        min-height: 0.8em;\n        min-width: 0.8em;\n      }\n    }\n  }\n\n  /* Reference Field */\n  .fresh-focused {\n    border: 1px solid #eee;\n    max-height: 200px;\n    overflow-y: scroll;\n    position: absolute;\n    background: white;\n    width: 100%;\n    margin-top: -0.5em;\n    border-top: 0;\n  }\n\n  /* Tag Field */\n  .fresh-input-tags {\n    margin-top: 1rem;\n  }\n\n  .react-tagsinput-tag {\n    background: #eee;\n    padding: 6px 10px;\n    margin: 0 6px 0 0;\n  }\n\n  .react-tagsinput-input {\n    margin-top: 1rem;\n    display: block;\n  }\n\n  /* Toggle Field */\n  .fresh-switch {\n    position: relative;\n    display: inline-block;\n    width: 60px;\n    height: 34px;\n    margin: 0.5em 0px;\n    .fresh-input-toggle {\n      opacity: 0;\n      width: 0;\n      height: 0;\n    }\n    .fresh-slider {\n      position: absolute;\n      cursor: pointer;\n      top: 0;\n      left: 0;\n      right: 0;\n      bottom: 0;\n      background-color: var(--fresh-toggle-color);\n      transition: 0.4s;\n      border-width: 1px;\n      border-style: solid;\n      border-image: initial;\n      border-color: inherit;\n      border-radius: 34px;\n      &.on {\n        background-color: var(--fresh-toggle-on-color);\n        &:focus {\n          box-shadow: 0 0 1px var(--fresh-toggle-on-color);\n        }\n        &:before {\n          transform: translateX(26px);\n        }\n      }\n      &:before {\n        position: absolute;\n        content: '';\n        height: 26px;\n        width: 26px;\n        left: 2px;\n        bottom: 2px;\n        background-color: white;\n        transition: 0.4s;\n        border-width: 1px;\n        border-style: solid;\n        border-image: initial;\n        border-color: inherit;\n        border-radius: 50%;\n      }\n    }\n  }\n"],t||(t=e.slice(0)),e.raw=t,e);return c=function(){return n},n}var f=r.createGlobalStyle(c()),p=function(e){var r=e.cancelAction,a=e.cancelText,o=t.useContext(s).resetForm;return n.createElement("button",{id:"fresh-cancel",className:"fresh-button fresh-cancel",onClick:function(){r(),o()},type:"reset"},a)};p.propTypes={cancelAction:a.func.isRequired,cancelText:a.string},p.defaultProps={cancelText:"Cancel"};var h=function(e){var t=e.tooltipIconColor;return n.createElement("span",{className:"fresh-tooltip","data-tooltip":e.tooltip,style:{"--fresh-tooltip-background":e.tooltipBackground,"--fresh-tooltip-color":e.tooltipColor,"--fresh-tooltip-icon-color":t}},n.createElement("svg",{className:"fresh-tooltip-icon",width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16C12.4183 16 16 12.4183 16 8C16 3.58172 12.4183 0 8 0C3.58172 0 0 3.58172 0 8C0 12.4183 3.58172 16 8 16ZM9.02539 5.91797H5.84668V7.79102H6.91309V11.127H5.84668V13H10.0098V11.127H9.02539V5.91797ZM6.89258 3.16309C6.83333 3.30892 6.80371 3.46615 6.80371 3.63477C6.80371 3.80339 6.83333 3.96289 6.89258 4.11328C6.95638 4.25911 7.04297 4.38672 7.15234 4.49609C7.26172 4.60547 7.38932 4.69206 7.53516 4.75586C7.68555 4.81966 7.84733 4.85156 8.02051 4.85156C8.18457 4.85156 8.33952 4.81966 8.48535 4.75586C8.63118 4.69206 8.75879 4.60547 8.86816 4.49609C8.97754 4.38672 9.06413 4.25911 9.12793 4.11328C9.19173 3.96289 9.22363 3.80339 9.22363 3.63477C9.22363 3.46615 9.19173 3.30892 9.12793 3.16309C9.06413 3.0127 8.97754 2.88281 8.86816 2.77344C8.75879 2.66406 8.63118 2.57747 8.48535 2.51367C8.33952 2.44987 8.18457 2.41797 8.02051 2.41797C7.84733 2.41797 7.68555 2.44987 7.53516 2.51367C7.38932 2.57747 7.26172 2.66406 7.15234 2.77344C7.04297 2.88281 6.95638 3.0127 6.89258 3.16309Z",fill:t})))};function m(e){var n=e.fieldId,r=e.defaultValue,a=t.useContext(s),o=a.registerField,i=a.formState,l=a.update;return t.useEffect(function(){o({id:n,value:r})},[]),{formState:i,update:l,fieldState:i[n]}}h.propTypes={tooltip:a.string,tooltipBackground:a.string,tooltipColor:a.string,tooltipIconColor:a.string},h.defaultProps={tooltip:"",tooltipBackground:"#eee",tooltipColor:"#000",tooltipIconColor:"#000"};var g=function(e){var t=e.options,r=e.fieldId,a=e.defaultValue,o=m({fieldId:r,defaultValue:void 0===a?0:a}),i=o.update;return n.createElement("select",{id:"fresh-"+r,className:"fresh-input fresh-input-select",onChange:function(e){return i({id:r,value:e.target.value})},value:o.fieldState},t.map(function(e){return n.createElement("option",{value:e,key:e,className:"fresh-option"},e)}))},v=function(e){var r=e.options,a=e.fieldId,o=e.displayProperty,i=e.defaultValue,l=e.placeholder,s=void 0===l?"":l,d=m({fieldId:a,defaultValue:void 0===i?{}:i}).update,u=t.useState(""),c=u[0],f=u[1],p=t.useState(!1),h=p[0],g=p[1];return n.createElement(n.Fragment,null,n.createElement("input",{id:"fresh-"+a,onChange:function(e){return f(e.target.value)},value:c,onFocus:function(){return g(!0)},onBlur:function(){return g(!1)},placeholder:s,type:"text",className:"fresh-input fresh-input-reference"}),h&&n.createElement("div",{className:"fresh-focused"},r.filter(function(e){return e[o].toLowerCase().includes(c.toLowerCase())}).map(function(e){return n.createElement("div",{key:e.id,style:{padding:"0.75em"},onMouseDown:function(){d({id:a,value:e}),f(e[o])}},e[o])})))},b=function(e){var t=e.className,r=e.defaultValue,a=e.fieldId,o=e.placeholder,i=e.required,s=e.strength,d=void 0===s||s,u=e.type,c=m({fieldId:a,defaultValue:void 0===r?"":r}),f=c.fieldState,p=c.update,h=function(e){var t=0;if(e.length<x.minimumLength)return-1;t+=4*e.length,e.match(/(.*[0-9].*[0-9].*[0-9])/)&&(t+=5);var n=".*[!,@,#,$,%,^,&,*,?,_,~]";return n=new RegExp("("+n+n+")"),e.match(n)&&(t+=5),e.match(/([a-z].*[A-Z])|([A-Z].*[a-z])/)&&(t+=10),e.match(/([a-zA-Z])/)&&e.match(/([0-9])/)&&(t+=15),e.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&e.match(/([0-9])/)&&(t+=15),e.match(/([!,@,#,$,%,^,&,*,?,_,~])/)&&e.match(/([a-zA-Z])/)&&(t+=15),(e.match(/^\w+$/)||e.match(/^\d+$/))&&(t-=10),t>100&&(t=100),t<0&&(t=0),.04*t}(f||""),g={background:"#ccc",width:"calc(193px * 0.25)"};return 2===h?g={width:"calc(193px * 0.5)",background:"red"}:3===h?g={width:"calc(193px * 0.75)",background:"red"}:4===h&&(g={width:"calc(193px * 1)",background:"green"}),n.createElement(n.Fragment,null,n.createElement("input",{className:"fresh-input fresh-input-password "+t,placeholder:o,type:u,required:i,value:f||"",id:"fresh-"+a,onChange:function(e){return p({value:e.target.value,id:a})}}),d&&n.createElement("div",{style:l({height:"4px",marginBottom:"1rem",transition:"0.3s ease all"},g)}))};b.propTypes={strength:a.bool,placeholder:a.string},b.defaultProps={placeholder:""};var x={showText:!0,fieldPartialMatch:!0,minimumLength:4},w=function(e){var t=e.defaultValue,r=e.fieldId,a=m({fieldId:r,defaultValue:void 0===t?[]:t}),i=a.update;return n.createElement(o,{value:a.fieldState||[],onChange:function(e){return i({id:r,value:e})},className:"fresh-input-tags",id:"fresh-"+r,style:{marginTop:"1rem"}})},y=function(e){var t=e.defaultValue,r=e.fieldId,a=e.placeholder,o=m({fieldId:r,defaultValue:void 0===t?"":t}),i=o.update;return n.createElement("textarea",{id:"fresh-"+r,placeholder:a,value:o.fieldState||"",className:"fresh-input fresh-input-textarea",onChange:function(e){return i({id:r,value:e.target.value})}})},C=function(e){var t=e.fieldId,r=e.defaultValue,a=e.placeholder,o=e.required,i=e.className,l=m({fieldId:t,defaultValue:void 0===r?null:r}),s=l.update;return n.createElement(n.Fragment,null,n.createElement("input",{required:o,className:"fresh-input fresh-input-number "+i,placeholder:a,id:"fresh-"+t,type:"number",value:l.fieldState||"",onChange:function(e){var n=e.target.value?parseInt(e.target.value):null;s({id:t,value:n})}}))},E=function(e){var t=e.defaultValue,r=e.fieldId,a=e.placeholder,o=m({fieldId:r,defaultValue:void 0===t?"":t}),l=o.fieldState,s=o.update;return n.createElement("div",{className:"fresh-markdown-wrapper"},n.createElement("textarea",{id:"fresh-"+r,placeholder:a,value:l||"",className:"fresh-input fresh-input-textarea",onChange:function(e){return s({id:r,value:e.target.value})}}),n.createElement("div",{className:"fresh-input fresh-input-markdown"},n.createElement(i,{children:l||""})))},k=function(e){var t=e.className,r=e.fieldId,a=e.placeholder,o=e.required,i=e.type,l=m({fieldId:r,defaultValue:e.defaultValue}),s=l.update;return n.createElement("input",{required:o,className:"fresh-input fresh-input-"+i+" "+t,placeholder:a,id:"fresh-"+r,type:i,value:l.fieldState||"",onChange:function(e){s({id:r,value:e.target.value})}})},V=function(e){var t=e.fieldId,r=e.defaultValue,a=e.className,o=void 0===a?"":a,i=m({fieldId:t,defaultValue:void 0!==r&&r}),l=i.fieldState,s=i.update;return n.createElement("div",{className:o+" fresh-switch"},n.createElement("input",{checked:l||"",type:"checkbox",id:"fresh-"+t,className:"fresh-input-toggle",onChange:function(){}}),n.createElement("span",{className:"fresh-slider",onClick:function(){return s({id:t,value:!l})}}))},I=function(e){var t=e.required,r=void 0!==t&&t,a=e.children,o=e.name,i=void 0===o?"":o,l=e.type,s=void 0===l?"text":l,d=e.label,u=void 0===d||d,c=e.error,f=e.placeholder,p=void 0===f?"":f,m=e.options,x=e.strength,I=e.className,N=void 0===I?"":I,S=e.defaultValue,F=void 0===S?"":S,j=e.displayProperty,O=void 0===j?"":j,q=e.tooltip,T=e.tooltipBackground,B=e.tooltipColor,P=e.tooltipIconColor,A=i||a.replace(/(?:^\w|[A-Z]|\b\w|\s+)/g,function(e,t){return 0==+e?"":0==t?e.toLowerCase():e.toUpperCase()}),Z={children:a,required:r,name:i,type:s,label:u,error:c,placeholder:p,options:m,className:N,defaultValue:F,displayProperty:O};return n.createElement("div",{className:"fresh-field-wrapper "+A},n.createElement("label",{className:"fresh-label",htmlFor:"fresh-"+A},n.createElement("span",{className:"fresh-title"},r&&"*"," ",u&&a," ",q&&n.createElement(h,{tooltip:q,tooltipBackground:T,tooltipColor:B,tooltipIconColor:P})),function(){switch(s){case"select":return n.createElement(g,Object.assign({fieldId:A},Z));case"reference":return n.createElement(v,Object.assign({fieldId:A},Z));case"password":return n.createElement(b,Object.assign({strength:x,fieldId:A},Z));case"tags":return n.createElement(w,Object.assign({fieldId:A},Z));case"textarea":return n.createElement(y,Object.assign({fieldId:A},Z));case"number":return n.createElement(C,Object.assign({fieldId:A},Z));case"markdown":return n.createElement(E,Object.assign({fieldId:A},Z));case"toggle":return n.createElement(V,Object.assign({fieldId:A},Z));default:return n.createElement(k,Object.assign({fieldId:A},Z))}}()),c&&n.createElement("div",{className:"fresh-error"},c))};I.defaultProps={defaultValue:null,options:[],tooltip:"",tooltipBackground:"#eee",tooltipColor:"#000",tooltipIconColor:"#000"};var N=function(e){var r=e.cancelAction,a=void 0===r?function(){return null}:r,o=e.cancelButton,i=void 0===o||o,d=e.cancelText,u=void 0===d?"Cancel":d,c=e.children,f=e.className,h=void 0===f?"":f,m=e.onSubmit,g=e.submitText,v=void 0===g?"Submit":g,b=t.useContext(s).formState;return n.createElement("form",{className:h+" fresh-form",onSubmit:function(e){e.preventDefault();var t=l({},b);delete t.defaultValues,m(t)}},c,n.createElement("div",null,n.createElement("button",{id:"fresh-submit",className:"fresh-button fresh-submit",type:"submit"},v),i&&n.createElement(p,{cancelAction:a,cancelText:u})))};exports.Field=I,exports.Form=function(e){var t=e.defaultValues,r=void 0===t?{}:t,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)t.indexOf(n=o[r])>=0||(a[n]=e[n]);return a}(e,["defaultValues"]);return n.createElement(u,{defaultValues:r},n.createElement(f,null),n.createElement(N,Object.assign({},a)))};
//# sourceMappingURL=fresh.cjs.production.min.js.map
